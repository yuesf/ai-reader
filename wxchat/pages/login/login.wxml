<view class="login-container">
  <view class="login-header">
    <view class="logo-text">📚</view>
    <text class="app-name">AI Reader</text>
    <text class="welcome-text">欢迎使用AI阅读助手</text>
  </view>

  <view class="login-content">
    <view wx:if="{{!hasUserInfo}}">
      <view class="login-tips">
        <text>请先登录微信账号</text>
      </view>
      
      <view class="login-buttons">
        <button 
          wx:if="{{canIUseGetUserProfile}}" 
          class="login-btn" 
          bindtap="wxLogin"
          type="primary"
        >
          微信登录
        </button>
        
        <button 
          wx:else 
          class="login-btn" 
          open-type="getUserInfo" 
          bindgetuserinfo="onGetUserInfo"
          type="primary"
        >
          微信登录
        </button>
        
       
        
        <!-- 测试网络请求按钮 -->
        <button 
          class="network-test-btn" 
          bindtap="testRequest"
          type="default"
          style="margin-top: 10px; background-color: #e0e0e0;"
        >
          测试网络请求
        </button>
      </view>
    </view>

    <view wx:else class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="cover"></image>
      <text class="nickname">{{userInfo.nickName}}</text>
      <button class="continue-btn" bindtap="goToIndex" type="primary">
        继续使用
      </button>
    </view>
  </view>

  <view class="login-footer">
    <text class="privacy-text">登录即表示同意用户协议和隐私政策</text>
  </view>
</view>